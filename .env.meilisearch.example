# Meilisearch Configuration / Meilisearch 配置
# Copy this file to .env and update the values
# 复制此文件为 .env 并更新配置值

# ==================== Meilisearch Settings / Meilisearch 设置 ====================

# Enable Meilisearch integration (true/false)
# 启用 Meilisearch 集成 (true/false)
MEILISEARCH_ENABLED=true

# Meilisearch host URL
# Meilisearch 主机地址
MEILISEARCH_HOST=http://localhost:7700

# Meilisearch API key (same as MEILI_MASTER_KEY in docker-compose)
# Meilisearch API 密钥 (与 docker-compose 中的 MEILI_MASTER_KEY 相同)
MEILISEARCH_API_KEY=your-secure-master-key-change-me

# Enable automatic data synchronization (true/false)
# 启用自动数据同步 (true/false)
MEILISEARCH_SYNC_ENABLED=true

# Batch size for bulk indexing operations
# 批量索引操作的批次大小
MEILISEARCH_SYNC_BATCH_SIZE=1000

# Sync interval in seconds (for scheduled background sync)
# 同步间隔(秒) - 用于定时后台同步
MEILISEARCH_SYNC_INTERVAL=60

# Maximum number of search results to return
# 搜索结果最大返回数量
MEILISEARCH_MAX_SEARCH_RESULTS=1000

# Search timeout in milliseconds
# 搜索超时时间(毫秒)
MEILISEARCH_SEARCH_TIMEOUT=5000

# Enable debug logging for Meilisearch operations (true/false)
# 启用 Meilisearch 操作的调试日志 (true/false)
MEILISEARCH_DEBUG=false

# Number of worker goroutines for async indexing
# 异步索引的工作协程数量
MEILISEARCH_WORKER_COUNT=10

# ==================== Advanced Settings / 高级设置 ====================

# Retry count for failed indexing operations
# 索引失败重试次数
MEILISEARCH_RETRY_COUNT=3

# Retry delay in milliseconds
# 重试延迟(毫秒)
MEILISEARCH_RETRY_DELAY=1000

# Enable auto index creation (true/false)
# If false, indexes must be created manually before using
# 启用自动创建索引 (true/false)
# 如果为 false,必须在使用前手动创建索引
MEILISEARCH_AUTO_CREATE_INDEX=true

# Index prefix (useful for multi-tenant deployments)
# 索引前缀(适用于多租户部署)
MEILISEARCH_INDEX_PREFIX=

# ==================== Performance Tuning / 性能调优 ====================

# Connection pool size
# 连接池大小
MEILISEARCH_POOL_SIZE=20

# Connection timeout in seconds
# 连接超时时间(秒)
MEILISEARCH_CONNECT_TIMEOUT=10

# Request timeout in seconds
# 请求超时时间(秒)
MEILISEARCH_REQUEST_TIMEOUT=30

# ==================== Notes / 注意事项 ====================
#
# 1. Production Security / 生产环境安全:
#    - Always change MEILISEARCH_API_KEY to a strong random key
#    - Use HTTPS in production (MEILISEARCH_HOST=https://...)
#    - 生产环境务必修改 MEILISEARCH_API_KEY 为强随机密钥
#    - 生产环境使用 HTTPS
#
# 2. Performance / 性能:
#    - Adjust MEILISEARCH_SYNC_BATCH_SIZE based on your data volume
#    - Increase MEILISEARCH_WORKER_COUNT for high-concurrency scenarios
#    - 根据数据量调整 MEILISEARCH_SYNC_BATCH_SIZE
#    - 高并发场景增加 MEILISEARCH_WORKER_COUNT
#
# 3. Debugging / 调试:
#    - Set MEILISEARCH_DEBUG=true to see detailed logs
#    - Check Meilisearch health: curl http://localhost:7700/health
#    - 设置 MEILISEARCH_DEBUG=true 查看详细日志
#    - 检查 Meilisearch 健康状态
#
